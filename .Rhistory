nato2009<-nato
nato2010<-joo
rbind(nato2009,nato2010)
(nato<-rbind(nato2009,nato2010))
rm(nato)
rm(joo)
chisq.test(nato)
nato
nato<-rbind(nato2009,nato2010)
nato
names(nato)
names(nato2009)
names(nato2009)<-c("join","stay out")
nato<-rbind(nato2009,nato2010)
nato
rm(nato2009)
rm(nato2010)
chisq.test(nato)
pnorm(1.64)
?pbinom
pbinom(559,1000,.53,lower.tail=F)
pbinom(529,1000,.53,lower.tail=F)
530/1000
pbinom(530,1000,.53,lower.tail=T)
pbinom(559,1000,.53,lower.tail=F)
pbinom(18,100,.15,lower.tail=F)
?pnorm
ValtsikkaOtos<-rnorm(188,23.07,6.06)
MALUOtos<-rnorm(131,24.4,5.3)
mean(ValtsikkaOtos)
ValtsikkaOtos<-rnorm(188,23.07,6.06)
ValtsikkaOtos
mean(ValtsikkaOtos)
ValtsikkaOtos<-rnorm(188,23.07,6.06)
mean(ValtsikkaOtos)
ValtsikkaOtos<-rnorm(188,23.07,6.06)
mean(ValtsikkaOtos)
ValtsikkaOtos<-rnorm(188,23.07,6.06)
mean(ValtsikkaOtos)
mean(MALUOtos)
malu_otos<-rnorm(131,24.4,5.3)
mean(malu_otos)
malu_otos<-rnorm(131,24.4,5.3)
mean(malu_otos)
malu_otos<-rnorm(131,24.4,5.3)
mean(malu_otos)
?t.test
t.test(ValtsikkaOtos,malu_otos)
pbinom(18,100,.15,lower.tail=F)
pbinom(18,100,.15,lower.tail=F)+pbinom(11,100,.15)
expected<-c("passive" = 19,"active" = 81);observed<-c("passive" = 15,"active" = 85);Evert<-as.table(rbind(expected,observed))
Evert
chisq.test(Evert)
expected<-c("passive" = 19,"active" = 81);observed<-c("passive" = 15,"active" = 85);(Evert<-as.table(rbind(expected,observed))))
expected<-c("passive" = 19,"active" = 81);observed<-c("passive" = 15,"active" = 85);(Evert<-as.table(rbind(expected,observed)))
pbinom(18,100,.15,lower.tail=F)+pbinom(11,100,.15)
expected<-c("passive" = 19,"active" = 81);observed<-c("passive" = 15,"active" = 85);(Evert<-as.table(rbind(expected,observed)))
chisq.test(Evert)
Evert
chisq.test(Evert)
qbinom(.95,100,.15)
qbinom(.975,100,.15)
?confint
19-1.64*sqrt(.19*(1-.19)*100)
19-1.96*sqrt(.19*(1-.19)*100)
6/1149864
1149864*.06
pbinom(68184,1149864,.06,lower.tail=T)
integer(6.1)
round(6.1)
observed_the<-c("the" = 68184,"other" = 1149864-68184);expected_the<-c("the" = round(1149864*.06),"other" = round(1149864-1149764*.06));(EvertThe<-as.table(rbind(expected_the,obserbed_the)));chisq.test(EvertThe)
observed_the<-c("the" = 68184,"other" = 1149864-68184);expected_the<-c("the" = round(1149864*.06),"other" = round(1149864-1149764*.06));(EvertThe<-as.table(rbind(expected_the,observed_the)));chisq.test(EvertThe)
pbinom(68184,1149864,.06,lower.tail=T)+
pbinom(68184,1149864,.06,lower.tail=T)
observed_the<-c("the" = 68184,"other" = 1149864-68184);expected_the<-c("the" = round(1149864*.06),"other" = round(1149864-1149764*.06));(EvertThe<-as.table(rbind(expected_the,observed_the)));chisq.test(EvertThe)
pbinom(68184,1149864,.06,lower.tail=T)+pbinom(round(.06*1149864+round(.6*1149864)-68184)-1,1149864,.06,lower.tail=F)
pbinom(18,100,.15,lower.tail=F)+pbinom(11,100,.15)
?pnorm
pnorm(4.3,mean=4.1,sd=.35,lower.tail=T)
pnorm(4.3,mean=4.1,sd=.35,lower.tail=F)
(ristitaulukko<-table(sample(1:6,60,replace=T)));chisq.test(ristitaulukko)
?fisher.text
?fisher.test
as.table(rbind (c(10,10,10,10,10,10), c(8,12,9,11,7,13))
)
as.table(rbind (c(10,10,10,10,10,10), c(8,12,9,11,7,13)), dimnames=list(c("1","2","3","4","5","6"),c("trial A","trial B")))
as.table(rbind (c(10,10,10,10,10,10), c(8,12,9,11,7,13)), dimnames=c("moi","hei"))
as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T))
)
)
as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T))))
as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))
)
as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T))))
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));chisq.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));fisher.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));fisher.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));fisher.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));fisher.test(nopat)
(nopat<-as.table(rbind (c(10,10,10,10,10,10), table(sample(1:6,60,replace=T)))));fisher.test(nopat)
?pnorm
pnorm(4.4,4.1,.7,lower.tail=F)
4b<-rnorm(16,4.4,0.7);mean(4b);sd(4b)
tehtävä4<-rnorm(16,4.4,0.7);mean(4b);sd(4b)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4<-rnorm(16,4.4,0.7);mean(tehtävä4);sd(tehtävä4)
tehtävä4a<-tehtävä4
zplot
4.4-4.1/.7/sqrt(16)
t.test
?t.test
rm(tehtävä4a)
rm(tehtävä4b)
rm(tehtävä4)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaEOECD<-rnorm(33,18.7578,6.874001);mean(lomaEOECD);sd(lomaEOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
lomaOECD<-rnorm(40,21.1,5.040795);mean(lomaOECD);sd(lomaOECD)
t.text(lomaEOECD,lomaOECD)
t.test(lomaEOECD,lomaOECD)
t.test(lomaEOECD,lomaOECD,l)
t.test(lomaEOECD,lomaOECD,alternative=l)
t.test(lomaEOECD,lomaOECD,alternative="less")
summary(lomaEOECD)
summary(lomaOECD)
?qbinom
qbinom(.95,1000,.56)
qbinom(.95,1000,.53)
qbinom(559,1000,.53,lower.tail=F)
pbinom(559,1000,.53,lower.tail=F)
qbinom(.95,1000,.53,lower.tail=F)
qbinom(.95,1000,.53,lower.tail=T)
qbinom(.05,1000,.53,lower.tail=F)
rm(uusib)
rm(tehtävä4)
rm(otos)
rm(numbat)
mean(MALUOtos)
mean(malu_otos)
4.3-1.96/2*.35/sqrt(10))
4.3-1.96/2*.35/sqrt(10)
4.3+1.96/2*.35/sqrt(10))
4.3+1.96/2*.35/sqrt(10)
qnorm(.95)
?qnorm
qnorm(.95)
load("~/.RData")
rm(wlp_spok_2012)
save.image("~/.RData")
library("gsubfn", lib.loc="C:/Program Files/R/R-3.2.4revised/library")
load("C:/Users/juho/Desktop/uus.RData")
length(unlist(strapply(bhmc17,"\\t",perl=T)))
Sys.setlocale()
Sys.setlocale()
Sys.setlocale()
Sys.setlocale()
?cor.test
as.table(rbind(c(148,80),c(101,74)))
chisq.test(as.table(rbind(c(148,80),c(101,74))))
load("C:/Users/juho/Desktop/uudetputsit.RData")
?pbinom
pbinom(1,10,1/3,lower.tail=T)
pbinom(0,10,1/3,lower.tail=T)
pbinom(2,10,1/3,lower.tail=T)
pbinom(3,10,1/3,lower.tail=T)
dbinom(0,10,1/3,lower.tail=T)
dbinom(0,10,1/3)
dbinom(1,10,1/3)
dbinom(2,10,1/3)
dbinom(3,10,1/3)
dbinom(4,10,1/3)
dbinom(9,10,1/3)
pbinom(0,size=10,prob=1/3,lower.tail=F)
qnorm(1.96,180,6)
?qnorm
pnorm(190,180,6)
pnorm(190,180,6)-pnorm(170,180,6)
qnorm(1.96)
pnorm(1.96)
pnorm(-1.96)
pnorm(1.71)
pbinom
?dbinom
dbinom(9,10,1/3)
?pbinom
pnorm(.95)
qnorm(.95)
Sys.getlocale()
Sys.setlocale("LC_MESSAGES", "en_US.UTF-8")
load("C:/Users/juho/Desktop/NOW_filtering.RData")
`16.01.gb` <- read.delim("C:/Users/juho/Desktop/16-01-gb.txt", header=FALSE, quote="", stringsAsFactors=FALSE)
View(`16.01.gb`)
str(16.01.gb)
wlp_nov16 <- read.delim("H:/16-01-gb.txt", header=FALSE, quote="", stringsAsFactors=FALSE)
View(wlp_nov16)
str(wlp_nov16$V1)
summary(wlp_nov16$V1)
zone-in<-wlp_nov16[wlp_nov16$V1 > 7174984 & wlp_nov16$V1 < 7174988,]
zone_in<-wlp_nov16[wlp_nov16$V1 > 7174984 & wlp_nov16$V1 < 7174988,]
View(zone_in)
load("C:/Users/juho/Desktop/NOW_filtering.RData")
View(lucky12)
View(now_sources_pt2)
load("C:/Users/juho/Desktop/NOW_sorting_upto26dec16.RData")
sources.16.12 <- read.delim("H:/sources-16-12.txt", header=FALSE, quote="", stringsAsFactors=FALSE, skipNul = T)
View(sources.16.12)
gb.all_dupesremaining<-rbind(now_sources_pt1[now_sources_pt1$V4=="GB",],now_sources_pt2[now_sources_pt2$V4=="GB",],sources.16.11[sources.16.11$V4=="GB",],sources.16.12[sources16.12$V4=="GB",])
gb.all_dupesremaining<-rbind(now_sources_pt1[now_sources_pt1$V4=="GB",],now_sources_pt2[now_sources_pt2$V4=="GB",],sources.16.11[sources.16.11$V4=="GB",],sources.16.12[sources.16.12$V4=="GB",])
deletees<-which(duplicated(gb.all_dupesremaining$V6)==TRUE) #etsi duuppien positiot
gb.all<-gb.all_dupesremaining[-deletees,] #tee uusi datafreimi ilman duuppeja
lucky12<-gb.all[grep("(?i)http:\\/\\/www\\.(dailymail\\.co\\.uk|scotsman\\.com|telegraph\\.co\\.uk|thenorthernecho\\.co\\.uk|independent\\.co\\.uk|theguardian\\.com|liverpoolecho\\.co\\.uk|belfasttelegraph\\.co\\.uk|mirror\\.co\\.uk|eadt\\.co\\.uk|altonherald\\.com|lisburntoday\\.co\\.uk)",gb.all$V6,perl=T),] #tämä ilmeisesti olisi onnistuneesti poiminut kaikki tarvittavat lehdet ja myöskin case-insensitiivisesti.
names(lucky12)<-c("text_id","words","date","country","website","url","title")
write.table(lucky12,file="newlucky12.txt",quote=F,col.names=T,row.names = F,sep="\t")
getwd()
View(gb.all)
View(lucky12)
save.image("C:/Users/juho/Desktop/NOW_sorting_uptoDec31_16.RData")
load("C:/Users/juho/Desktop/NOW_sorting_uptoDec31_16.RData")
load("C:/Users/juho/Desktop/NOW_sorting_uptoDec31_16.RData")
View(sources.16.11)
load("C:/Users/juho/Desktop/NOW_sorting_uptoDec31_16.RData")
View(now_sources_pt1)
View(now_sources_pt2)
load("C:/Users/juho/Desktop/NOW_sorting_uptoDec31_16.RData")
date4eachword<-as.Date(rep(lucky12$date,lucky12$words))
load("C:/Users/juho/Desktop/NOW_sorting_uptoDec31_16.RData")
date4eachword<-rep(lucky12$date,lucky12$words)
head(date4eachword,10)
as.Date(head(date4eachword))
as.Date(head(date4eachword),format="%y %m %d")
as.Date(head(date4eachword),format="%y-%m-%d")
realdate4eachword<-as.Date(date4eachword,format="%y-%m-%d")
write.table(lucky12,file="newlucky12.txt",quote=F,col.names=T,row.names = F,sep="\t")
library("gsubfn", lib.loc="C:/Program Files/R/R-3.2.4revised/library")
nowGB14to16_files<-dir(path="c:/users/juho/desktop/NOW_GB_14-16",recursive=F,full.names=T) #täsmennetään tekstitiedostot sisältävä hakemisto
nowGB14to16_files<-dir(path="c:/users/juho/desktop/NOW_GB_14-16",recursive=F,full.names=T) #täsmennetään tekstitiedostot sisältävä hakemisto
for (i in nowGB14to16_files) {
tmp<-scan(file=i,what="char",sep="\n",quiet=T,encoding="UTF-8") #Nyt taas vaihteeksi täsmennämme UTF-8:n vaikka oikeasti se onkin UTF-8-BOM
cat(tmp,file="tempcorpusfile.txt",sep="\n",append=T) #tässä oli alunperin catin ekana argumenttina basename(i) mutta päätin sitten ettei filenameja täggerin ihmeteltäväksi.
cat("The contents of",i,"have been outputted into tempcorpusfile.txt.\n")
}
tehcorpus<-scan(file="tempcorpusfile.txt",what="char",sep="\n",encoding="UTF-8") #UTF-8-BOM
Mikko<-c("Penis,",
"Kives",
"Siitin",
"Peraereijus",
"Siittimenreijus",
8,
14,
"siinolisulleparinumeroo"
)
summary(Mikko)
Mikko
rm(Mikko)
(
Mikko<-c("Penis,",
"Kives",
"Siitin",
"Peraereijus",
"Siittimenreijus",
8,
14,
"siinolisulleparinumeroo"
)
)
rm(Mikko)
garbage.strings<-c( #Below are listed all the garbage strings to be removed.
"Trinity Mirror Merseyside , ([^\\s\\r\\n]+ ){167}campaigns \\.",
"(<[hp]> )?Advertising Department <[hp]>","(<[hp]> )?Send a story (<[hp]>)?",
"(<[hp]> )?Get daily news by email <[hp]>","<[hp]> Read More <[hp]>",
"<p> Video Loading <p> Video Unavailable <p> Click to playTap to play <p> The video will start in 8Cancel <p> Play now <p> Video will play in (<[hp]> )?",
"(<[hp]> )?Share this video <[hp]> Watch Next (<[hp]> )?","@ ([^\\s\\r\\n]+ ){165}awards and spearheaded numerous successful campaigns \\.",
"Trinity Mirror Merseyside , ([^\\s\\r\\n]+ ){150,200}@ @",
" Invalid e-mailThanks for subscribing ! Could not subscribe , try again later (<p> )?"
)
garbage.strings<-c( #Below are listed all the garbage strings to be removed.
"Trinity Mirror Merseyside , ([^\\s\\r\\n]+ ){167}campaigns \\.",
"(<[hp]> )?Advertising Department <[hp]>",
"(<[hp]> )?Send a story (<[hp]>)?",
"(<[hp]> )?Get daily news by email <[hp]>",
"<[hp]> Read More <[hp]>",
"<p> Video Loading <p> Video Unavailable <p> Click to playTap to play <p> The video will start in 8Cancel <p> Play now <p> Video will play in (<[hp]> )?",
"(<[hp]> )?Share this video <[hp]> Watch Next (<[hp]> )?",
"@ ([^\\s\\r\\n]+ ){165}awards and spearheaded numerous successful campaigns \\.",
"Trinity Mirror Merseyside , ([^\\s\\r\\n]+ ){150,200}@ @",
" Invalid e-mailThanks for subscribing ! Could not subscribe , try again later (<p> )?"
)
Sys.getlocale()
?pairs
install.packages("dplyr")
library("dplyr", lib.loc="~/R/win-library/3.3")
library(readr)
learning2014 <- read_csv("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/learning2014.txt")
summary(learning2014)
summary(lm(Points ~ attitude + age + surf,
data=learning2014))
summary(lm(points ~ attitude + age + surf,
data=learning2014))
summary(lm(points ~ attitude, data=learning2014))
par(mfrow = c(2,2)); plot(lm(points ~ attitude, data=learning2014),which=c(2,4,6))
plot(lm(points ~ attitude, data=learning2014),which=1)
par(NULL)
plot(lm(points ~ attitude, data=learning2014),which=1)
par
?par
par(0)
plot(lm(points ~ attitude, data=learning2014),which=1)
setwd(dir="c:/users/juho/desktop/IODS-project/IODS-project")
alcohol<-read.table(file = "data/drunkards.txt", sep = "\t", header = TRUE, row.names = NULL)
table(alcohol$age)
library(ggplot2)
ggplot(data=alcohol, aes(alcohol$age, fill=alcohol$high_use)) + geom_bar(position = "stack") + ylab("count") + ggtitle("High alcohol consumption as a function of age", subtitle="N = 382") + scale_alpha_continuous(breaks = min(alcohol$age):max(alcohol$age))
ggplot(data=alcohol, aes(alcohol$age, fill=alcohol$high_use)) + geom_bar(position = "fill") + ylab("relative frequency") + ggtitle("High alcohol consumption as a function of age", subtitle="N = 382") + scale_x_continuous(breaks = min(alcohol$age):max(alcohol$age))
summary(alcohol$reason)
ggplot(data=alcohol, aes(alcohol$reason, fill=alcohol$high_use)) + geom_bar(position = "fill") + ylab("relative frequency") + ggtitle("Alcohol consumption and reason of school choice", "N = 382") + scale_x_discrete(labels=levels(alcohol$reason))
table(alcohol$studytime)
cat(sep="","<think break>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</think break>")
AlcoholConsumption<-read.table(sep="\t",header=T,file="alc_IntegerStudyTime.txt")
alcohol$studytime.adjusted <- AlcoholConsumption$studytime
table(alcohol$studytime.adjusted)
alcohol$studytime.factor <- as.factor(alcohol$studytime.adjusted) #Create a version of studytime.adjusted that is categorical
levels(alcohol$studytime.factor) <- c("<2h","2-5h","5-10h",">10h") #Name its levels appropriately
table(alcohol$studytime.factor)
ggplot(data=alcohol, aes(alcohol$studytime.factor, fill=alcohol$high_use)) + geom_bar(position = "fill") + ylab("relative frequency") + ggtitle("High alcohol consumption as a function of weekly study time", "N = 382") + scale_x_discrete(labels=levels(alcohol$studytime.factor)) + xlab("weekly study time")
addmargins(table(alcohol$high_use, alcohol$romantic, dnn = c("high_use", "has_bf/gf")))
round(prop.table(table(alcohol$high_use, alcohol$romantic, dnn=c("high_use","has_bf/gf")), 2), digits=2)
model<-glm(high_use ~ age + reason + studytime.factor + romantic, data = alcohol, family = "binomial") #Creates the model
logodds<-coef(model) #Extracts and stores just the log of odds -values produced by the model
ORs<-cbind(data.frame(Estimate = round(exp(logodds),digits=3)),round(exp(confint(model)),digits=3)) #Extracts and stores the odds ratios and their confidence intervals, rounded to 3 decimals, in an eye-friendly table
summary(model) #Prints out the results of the model
ORs
round((confint(model)),digits=3)
alcohol.practice <- alcohol[c("age","reason","studytime.factor","romantic")]
head(alcohol.practice)
alcohol.practice[100,]
as.data.frame(coef(model))
(log_of_odds <- -4.2949807 + 17*0.2321509 + 0 + -1.4077006 + 0) #Get the log of odds
(odds <- exp(log_of_odds)) #Get the odds
(probability <- odds/(1+odds)) #Get the probability
predict(model, alcohol.practice[100,], type = "response")
alcohol.practice$probability <- predict(model, alcohol.practice, type="response")
alcohol.practice[seq(1,nrow(alcohol.practice),25),]
alcohol.practice$prediction <- alcohol.practice$probability > 0.5
alcohol.practice[seq(1,nrow(alcohol.practice),25),]
alcohol.practice$real_outcome <- alcohol$high_use
alcohol.practice[seq(1,nrow(alcohol.practice),25),5:7]
alcohol.practice$prediction.failed <- alcohol.practice$prediction!=alcohol.practice$real_outcome
alcohol.practice[seq(1,nrow(alcohol.practice),25),5:8]
(ErrorRate <- mean(alcohol.practice$prediction.failed))
(EmpiricalProbability <- mean(alcohol$high_use))
(alcohol.practice$EducatedGuesses <- sample(c(TRUE, FALSE), size = nrow(alcohol), replace = TRUE, prob = c(EmpiricalProbability,1-EmpiricalProbability)))
alcohol.practice$EducatedGuessFailed <- alcohol.practice$real_outcome!=alcohol.practice$EducatedGuesses
ModelPredictionFail <- table(alcohol.practice$prediction.failed)
EducatedGuessFail<- table(alcohol.practice$EducatedGuessFailed)
(CrossTab <- rbind(ModelPredictionFail, EducatedGuessFail))
chisq.test(CrossTab)
alcohol$probability <- predict(model, alcohol, type="response")
loss.func<-function(class,prob){n_wrong<-abs(class-prob)>0.5;mean(n_wrong)}
loss.func(alcohol$high_use,alcohol$probability)
library(boot)
CrossVal <- cv.glm(data = alcohol, glmfit=model, cost = loss.func, K = 10)
CrossVal$delta[[1]]
logregr <- function(dataset = alcohol, model.formula){
tmp.df <- dataset; attach(tmp.df,warn.conflicts = FALSE)
logitmodel <- glm(data = tmp.df, formula = model.formula, family = "binomial")
print(summary(logitmodel))
cat("Logodds coefficients and their confidence intervals:\n"); print(cbind(data.frame(Estimate=coef(logitmodel)), confint(logitmodel)))
cat("\nError rate in 10-fold cross-validation:\n", cv.glm(data = tmp.df, glmfit = logitmodel, cost = loss.func, K = 10)[[3]][1])
detach(tmp.df)
}
logregr(alcohol, high_use ~ sex+famrel+studytime.factor)
logregr(alcohol, high_use ~ sex+famrel+Pstatus)
logregr(alcohol, high_use ~ sex+absences+goout)
logregr <- function(dataset = alcohol, model.formula){
tmp.df <- dataset; attach(tmp.df,warn.conflicts = FALSE)
logitmodel <- glm(data = tmp.df, formula = model.formula, family = "binomial")
print(summary(logitmodel))
#cat("Logodds coefficients and their confidence intervals:\n"); print(cbind(data.frame(Estimate=coef(logitmodel)), confint(logitmodel)))
tmp.df$probability <- predict(logitmodel, tmp.df, type = "response")
ErrorRates <- data.frame(TrainingError = loss.func(tmp.df$high_use, tmp.df$probability), TestingError = cv.glm(data = tmp.df, glmfit = logitmodel, cost = loss.func)[[3]][1])
detach(tmp.df); cat("\nError rates:\n"); print.data.frame(ErrorRates); return(ErrorRates)
}
Round1 <- logregr(alcohol, high_use ~ sex+goout+failures+internet+Pstatus+studytime+address+G3+reason+activities)
Round2 <- logregr(alcohol, high_use ~ sex+goout+failures+internet+Pstatus+studytime+address+reason+activities)
Round3 <- logregr(alcohol, high_use ~ sex+goout+failures+internet+studytime+address+reason+activities)
Round4 <- logregr(alcohol, high_use ~ sex+goout+failures+studytime+address+reason+activities)
Round5 <- logregr(alcohol, high_use ~ sex+goout+studytime+address+reason+activities)
Round6 <- logregr(alcohol, high_use ~ sex+goout+studytime+address+reason)
Round7 <- logregr(alcohol, high_use ~ sex+goout+studytime+address)
Round8 <- logregr(alcohol, high_use ~ sex+goout+studytime)
Errors<-cbind(PredictorsLeft=10:4,rbind(Round1,Round2,Round3,Round4,Round5,Round6,Round7))
ggplot(data=Errors, aes(x=PredictorsLeft)) + geom_line(aes(y=TrainingError, color="TrainingError")) + geom_line(aes(y=TestingError, color="TestingError")) + scale_x_reverse(breaks=10:4) + theme(panel.grid.minor=element_blank()) + scale_y_continuous(limits = c(.20,.26), breaks = c(.20,.21,.22,.23,.24,.25,.26)) + geom_point(aes(y=TestingError)) + geom_point(aes(y=TrainingError)) + ylab("Error Rate") + xlab("Number of Predictors in Model")
Errors<-cbind(PredictorsLeft=10:3,rbind(Round1,Round2,Round3,Round4,Round5,Round6,Round7,Round8))
ggplot(data=Errors, aes(x=PredictorsLeft)) + geom_line(aes(y=TrainingError, color="TrainingError")) + geom_line(aes(y=TestingError, color="TestingError")) + scale_x_reverse(breaks=10:3) + theme(panel.grid.minor=element_blank()) + scale_y_continuous(limits = c(.20,.26), breaks = c(.20,.21,.22,.23,.24,.25,.26)) + geom_point(aes(y=TestingError)) + geom_point(aes(y=TrainingError)) + ylab("Error Rate") + xlab("Number of Predictors in Model")
ggplot(data=alcohol, aes(alcohol$age, fill=alcohol$high_use)) + geom_bar(position = "dodge") + ylab("count") + ggtitle("High alcohol consumption as a function of age", subtitle="N = 382") + scale_alpha_continuous(breaks = min(alcohol$age):max(alcohol$age))
ggplot(data=alcohol, aes(alcohol$age, fill=alcohol$high_use)) + geom_bar(position = "dodge") + ylab("count") + ggtitle("High alcohol consumption as a function of age", subtitle="N = 382") + scale_alpha_continuous(breaks = min(alcohol$age):max(alcohol$age)) + xlab("age")
ggplot(data=alcohol, aes(alcohol$age, fill=alcohol$high_use)) + geom_bar(position = "dodge") + ylab("count") + ggtitle("High alcohol consumption as a function of age", subtitle="N = 382") + scale_alpha_continuous(breaks = min(alcohol$age):max(alcohol$age)) + xlab("age") + scale_y_continuous(breaks=15:22)
ggplot(data=alcohol, aes(alcohol$age, fill=alcohol$high_use)) + geom_bar(position = "dodge") + ylab("count") + ggtitle("High alcohol consumption as a function of age", subtitle="N = 382") + scale_alpha_continuous(breaks = min(alcohol$age):max(alcohol$age)) + xlab("age") + scale_x_continuous(breaks=15:22)
ggplot(data=alcohol, aes(alcohol$age, fill=alcohol$high_use)) + geom_bar(position = "fill") + ylab("relative frequency") + ggtitle("High alcohol consumption as a function of age", subtitle="N = 382") + scale_x_continuous(breaks = min(alcohol$age):max(alcohol$age)) + xlab("age")
ggplot(data=alcohol, aes(alcohol$reason, fill=alcohol$high_use)) + geom_bar(position = "fill") + ylab("relative frequency") + ggtitle("Alcohol consumption and reason of school choice", "N = 382") + scale_x_discrete(labels=levels(alcohol$reason)) + xlab("Reason for having chosen one's current school")
